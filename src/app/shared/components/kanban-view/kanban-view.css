/* The Card Container */
.cdk-drag-preview {
    box-sizing: border-box;
    position: relative;

    /* IMPORTANT: Do NOT use overflow: hidden, otherwise the shadow disappears */

    border-radius: 0.5rem;
    /* 8px (matches rounded-lg) */
    padding: 1rem;
    /* 16px */
    background-color: #ffffff;
    color: #1f2937;

    /* The Shadow */
    box-shadow:
        0 10px 15px -3px rgba(168, 85, 247, 0.4),
        0 4px 6px -4px rgba(168, 85, 247, 0.4);
}

/* The Gradient Left "Border" */
.cdk-drag-preview::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    width: 4px;

    /* THE FIX: Manually round the left corners of the strip to match the parent */
    border-top-left-radius: 0.5rem;
    border-bottom-left-radius: 0.5rem;

    /* The Gradient */
    background: linear-gradient(to right, #9333ea, #4f46e5);
}

/* The space where the element will drop */
/* 1. Base Placeholder Styling (Layout) */
.cdk-drag-placeholder {
    opacity: 0.35;
    /* Make it visible */
    background-color: #f9fafb;
    /* Light gray background */
    border: 1px dashed #d1d5db;
    /* Dashed outline */
    box-sizing: border-box;
    border-radius: 0.4rem;

    border-left: none;
    box-shadow: inset 4px 0 0 0 #9ca3af;
}

/* 2. Overwrite color based on the PARENT COLUMN ID */

/* If inside PENDING column -> Yellow */
#incompleteList .cdk-drag-placeholder {
    box-shadow: inset 4px 0 0 0 #fb2c36 !important;
    /* Tailwind yellow-400 */
}

/* If inside IN PROGRESS column -> Blue */
#inProgressList .cdk-drag-placeholder {
    box-shadow: inset 4px 0 0 0 #f0b100 !important;
    /* Tailwind blue-500 */
}

/* If inside COMPLETED column -> Green */
#completedList .cdk-drag-placeholder {
    box-shadow: inset 4px 0 0 0 #00c950 !important;
    /* Tailwind green-500 */
}


/* 1. Animation for the item being dropped (snapping into position) */
.cdk-drag-animating {
    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* 2. Animation for the SIBLINGS moving out of the way 
   We target .cdk-drag inside a list that is currently being dragged over.
   We explicitly exclude the placeholder.
*/
.cdk-drop-list-dragging .cdk-drag:not(.cdk-drag-placeholder) {
    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);
}

/* 3. OPTIONAL: Fix for Tailwind conflict
   If your Tailwind classes on the div include 'transition' or 'duration',
   they might conflict. This ensures drag movement takes priority.
*/
.cdk-drag {
    transition: none;
}